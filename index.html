<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Priyanka ‚Äî Private Love Assistant (Secure)</title>
<style>
  :root{
    --bg1:#041225; --card:#071428; --accent1:#ff6bcb; --accent2:#8b5cf6; --accent3:#60a5fa; --muted:#9aa7bd;
    --radius:14px;
  }
  html,body{height:100%;margin:0;font-family:system-ui,Inter,Arial;background:linear-gradient(180deg,#041021 0%, #081427 100%);color:#eef7ff;-webkit-font-smoothing:antialiased;}
  .wrap{max-width:980px;margin:18px auto;padding:14px;}
  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;gap:12px;}
  .brand{display:flex;gap:12px;align-items:center;}
  .logo{width:52px;height:52px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--accent1),var(--accent2));font-weight:700;font-size:20px;}
  h1{margin:0;font-size:18px;}
  .subtitle{color:var(--muted);font-size:13px;}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:var(--radius);padding:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 8px 26px rgba(2,6,23,0.6);transition:transform .22s,opacity .2s;}
  .grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px;}
  @media(min-width:900px){.grid{grid-template-columns:1fr 1fr;}}
  .cardHeader{display:flex;align-items:center;justify-content:space-between;gap:8px;}
  .title{display:flex;gap:10px;align-items:center;}
  .title h2{margin:0;font-size:15px;}
  .muted{color:var(--muted);font-size:13px;}
  .controls{display:flex;gap:8px;align-items:center;}
  .btn{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 10px;border-radius:10px;color:var(--muted);font-size:13px;}
  .iconBtn{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#001;border:none;padding:8px 10px;border-radius:10px;font-weight:700;cursor:pointer;}
  .minBtn{background:transparent;border:none;color:var(--muted);font-size:18px;cursor:pointer;}
  /* chat */
  .chatWindow{max-height:320px;overflow:auto;margin-top:10px;padding-right:6px;}
  .chatRow{display:flex;gap:8px;margin-bottom:8px;}
  .chatRow.user{justify-content:flex-end;}
  .bubble{padding:10px 12px;border-radius:12px;display:inline-block;max-width:86%;}
  .bubble.user{background:linear-gradient(90deg,#ffd6e8,#ff9bd6);color:#2a0a1e;border-bottom-right-radius:4px;}
  .bubble.assistant{background:rgba(255,255,255,0.03);color:#e6f8ff;border-bottom-left-radius:4px;border:1px solid rgba(255,255,255,0.02);}
  .inputRow{display:flex;gap:8px;margin-top:8px;align-items:center;}
  .textIn{flex:1;padding:10px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);color:inherit;min-height:44px;resize:none;font-size:14px;}
  .mediaPreview{margin-top:10px;border-radius:10px;overflow:hidden;max-height:320px;background:rgba(0,0,0,0.25);display:flex;align-items:center;justify-content:center;}
  .explainTip{font-size:13px;color:var(--muted);margin-top:6px;}
  footer{margin-top:14px;color:var(--muted);text-align:center;font-size:13px;}
  .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:rgba(0,0,0,0.6);padding:10px 14px;border-radius:999px;color:#fff;font-size:14px;z-index:9999;opacity:0;transition:opacity .2s;}
  .card.minimized{height:56px;overflow:hidden;padding:8px;cursor:pointer;}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo">‚ù§</div>
      <div>
        <h1>Priyanka ‚Äî ‡§Ü‡§™‡§ï‡§æ Private Assistant</h1>
        <div class="subtitle">Secure ‚Ä¢ Love theme ‚Ä¢ Tap-to-explain</div>
      </div>
    </div>
    <div>
      <button class="iconBtn" id="voiceGuide" data-explain="Guide ‡§∏‡•Å‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡§¨‡§æ‡§è‡§Å. ‡§Ø‡§π ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§®‡§æ‡§à ‡§ó‡§à ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§î‡§∞ ‡§®‡§ø‡§ú‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§∞‡§ñ‡§§‡•á ‡§π‡•Å‡§è, ‡§Ø‡§π ‡§è‡§ï ‡§≤‡•ã‡§ï‡§≤ ‡§è‡§Ü‡§à ‡§Æ‡•â‡§°‡§≤ ‡§π‡•à ‡§ú‡§ø‡§∏‡•á ‡§è‡§°‡§Æ‡§ø‡§® ‡§®‡•á ‡§°‡§ø‡§ú‡§æ‡§á‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à‡•§">Guide</button>
    </div>
  </header>

  <!-- LOCK CARD (always first) -->
  <div id="lockCard" class="card">
    <div class="cardHeader">
      <div class="title"><strong>‡§∏‡§æ‡§á‡§ü ‡§≤‡•â‡§ï</strong><div class="muted" style="font-size:12px;margin-left:8px;"> ‡§ï‡•É‡§™‡•ç‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§°‡§æ‡§≤‡•á‡§Ç, ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§°‡§æ‡§≤‡§®‡•á ‡§™‡§∞ ‡§π‡•Ä ‡§Ö‡§Ç‡§¶‡§∞ ‡§ú‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç</div></div>
      <div class="controls">
        <button class="btn" id="lockInfo" data-explain="‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§µ‡§π‡•Ä ‡§π‡•à ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§Ü‡§™ ‡§™‡§π‡§≤‡•á ‡§ï‡§∞‡§§‡•á ‡§∞‡§π‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§ú‡§ø‡§∏‡•á ‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§π‡§æ ‡§ó‡§Ø‡§æ ‡§•‡§æ‡•§ ‡§∏‡§π‡•Ä ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§π‡•Ä ‡§∏‡§æ‡§á‡§ü ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§π‡•ã‡§ó‡•Ä‡•§">Info</button>
      </div>
    </div>
    <div style="margin-top:10px;">
      <input id="unlockInput" class="textIn" placeholder="‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§≤‡§ø‡§ñ‡•á‡§Ç..." type="password" aria-label="unlock">
      <div style="display:flex;gap:8px;margin-top:8px;">
        <button class="iconBtn" id="unlockBtn" data-explain="Unlock ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡§¨‡§æ‡§è‡§Å">Unlock</button>
      </div>
      <div class="explainTip">‡§ü‡§ø‡§™: ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§µ‡§π‡•Ä ‡§π‡•à ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§Ü‡§™ ‡§™‡§π‡§≤‡•á ‡§ï‡§∞‡§§‡•á ‡§∞‡§π‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§ú‡§ø‡§∏‡•á ‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§π‡§æ ‡§ó‡§Ø‡§æ ‡§•‡§æ‡•§ ‡§∏‡§π‡•Ä ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§π‡•Ä ‡§∏‡§æ‡§á‡§ü ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§π‡•ã‡§ó‡•Ä‡•§</div>
    </div>
  </div>

  <!-- MAIN GRID (hidden until unlock) -->
  <div id="mainGrid" style="display:none;">
    <div class="grid">
      <!-- Admin Panel (READ-ONLY, code-only editable) -->
      <section id="adminPanel" class="card">
        <div class="cardHeader">
          <div class="title">
            <div style="width:38px;height:38px;border-radius:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:700;">A</div>
            <div>
              <h2>Admin Message (Read-only)</h2>
              <div class="muted">Admin messages are defined inside the code (readonly). ‡§π‡§∞ ‡§¶‡§ø‡§® ‡§è‡§ï ‡§®‡§Ø‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ‡•§</div>
            </div>
          </div>
          <div class="controls">
            <button class="minBtn" data-toggle="admin">‚Äì</button>
          </div>
        </div>

        <div id="adminBody" style="margin-top:10px;">
          <div id="adminMessage" style="font-size:15px;color:#ffe8f8;line-height:1.4;">Loading admin message...</div>
          <div id="adminTime" class="muted" style="margin-top:8px;"></div>
          <div class="explainTip" style="margin-top:10px;">Admin messages ‡§ï‡•á‡§µ‡§≤ ‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡•á‡§Ç ‚Äî UI ‡§™‡§∞ edit ‡§ï‡§æ ‡§ë‡§™‡•ç‡§∂‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§</div>
        </div>
      </section>

      <!-- User Chat -->
      <section id="userPanel" class="card">
        <div class="cardHeader">
          <div class="title">
            <div style="width:38px;height:38px;border-radius:10px;background:linear-gradient(90deg,var(--accent3),#60ffd3);display:flex;align-items:center;justify-content:center;font-weight:700;">U</div>
            <div>
              <h2>User Chat</h2>
              <div class="muted">User messages saved locally ‚Ä¢ Assistant replies lovingly</div>
            </div>
          </div>
          <div class="controls">
            <button class="minBtn" data-toggle="user">‚Äì</button>
            <button class="btn" id="clearChatBtn" data-explain="Chat ‡§∏‡§æ‡§´‡§º ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è">Clear</button>
          </div>
        </div>

        <div id="userBody" style="margin-top:10px;">
          <div id="chatWindow" class="chatWindow" aria-live="polite"></div>

          <div class="inputRow">
            <textarea id="userInput" class="textIn" placeholder="‡§Ö‡§™‡§®‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≤‡§ø‡§ñ‡•á‡§Ç ‚Äî user‚ù§Ô∏è"></textarea>
            <button class="iconBtn" id="sendUser" data-explain="Send ‡§ï‡§∞‡•á‡§Ç">‚ù§</button>
          </div>

          <div style="display:flex;gap:8px;margin-top:8px;">
            <button class="btn" id="downloadUser" data-explain="Local saved messages ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç">Download</button>
            <button class="btn" id="showSavedBtn" data-explain="Saved messages ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å">Saved</button>
          </div>

          <div id="savedArea" style="margin-top:8px;"></div>
        </div>
      </section>

      <!-- Media Panel -->
      <section id="mediaPanel" class="card">
        <div class="cardHeader">
          <div class="title">
            <div style="width:38px;height:38px;border-radius:10px;background:linear-gradient(90deg,var(--accent2),var(--accent1));display:flex;align-items:center;justify-content:center;font-weight:700;">M</div>
            <div>
              <h2>Media & Content</h2>
              <div class="muted">Photo / Video / Audio preview ‚Ä¢ URL ‡§°‡§æ‡§≤‡•á‡§Ç ‡§î‡§∞ Load ‡§ï‡§∞‡•á‡§Ç</div>
            </div>
          </div>
          <div class="controls">
            <button class="minBtn" data-toggle="media">‚Äì</button>
          </div>
        </div>

        <div id="mediaBody" style="margin-top:10px;">
          <div style="display:flex;gap:8px;flex-wrap:wrap;">
            <input id="mediaUrl" class="textIn" placeholder="Photo/Video/Audio URL ‡§°‡§æ‡§≤‡•á‡§Ç (youtube, mp4, mp3, jpg...)" style="flex:1;">
            <button class="btn" id="loadMediaBtn" data-explain="URL ‡§°‡§æ‡§≤‡§ï‡§∞ Load ‡§¶‡§¨‡§æ‡§è‡§Å">Load</button>
          </div>

          <div style="display:flex;gap:8px;margin-top:8px;">
            <button class="btn" id="playAudioBtn">Play audio</button>
            <button class="btn" id="playVideoBtn">Play video</button>
            <button class="btn" id="showPhotoBtn">Show photo</button>
          </div>

          <div id="mediaPreview" class="mediaPreview">
            <div class="muted">No media loaded.</div>
          </div>
        </div>
      </section>
    </div>

    <footer>Built for you ‚Ä¢ Admin messages code-only ‚Ä¢ Tap any item with "Guide" to hear explanation</footer>
  </div>

  <div id="toast" class="toast"></div>
</div>

<script>
/* =========================
   CONFIGURATION (EDIT HERE)
   ========================= */

/* Lock password ‚Äî change here to update site password.
   This is the single place to change password (edit index.html on GitHub). */
const ADMIN_PASSWORD = "DTYPL5133"; // ‚Üê change this value in code to update password

/* Admin messages (code-only): keep array of messages.
   System will pick a message daily (based on date) ‚Äî daily rotation.
   You can add as many messages as you want. These are read-only in UI. */
const ADMIN_MESSAGES = [
  " ‡§≤‡§æ‡§á‡§´ ‡§Æ‡•á ‡§ï‡•Å‡§õ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§ï‡§∞‡•ã ‡§Ø‡§æ‡§∞ ",
  "‡§Æ‡•Å‡§ù‡•á ‡§ê‡§∏‡§æ ‡§≤‡§ó‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§§‡•Å‡§Æ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§≤‡§ó‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§Æ‡•à‡§Ç ‡§ï‡§ø‡§∏‡•Ä ‡§¨‡§æ‡§§ ‡§™‡§∞ ‡§ú‡§º‡§ø‡§¶ ‡§ï‡§∞ ‡§¨‡•à‡§†‡•Ç‡§Å‡§ó‡§æ ‚Äî ‡§ï‡§ø ‡§Æ‡•à‡§Ç ‡§ï‡§π‡•Ç‡§Å‡§ó‡§æ ‡§ï‡§ø ‡§Æ‡•Å‡§ù‡§∏‡•á ‡§∂‡§æ‡§¶‡•Ä ‡§ï‡§∞‡•ã ‡§Ø‡§æ ‡§ï‡•ã‡§à ‡§î‡§∞ ‡§¨‡§æ‡§§ ‡§ú‡§ø‡§∏ ‡§™‡§∞ ‡§Æ‡•à‡§Ç ‡§Ö‡§°‡§º ‡§ú‡§æ‡§ä‡§Å, ‡§ö‡§æ‡§π‡•á ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§π‡•ã ‡§ú‡§æ‡§è, ‡§ö‡§æ‡§π‡•á ‡§¨‡§¶‡§®‡§æ‡§Æ‡•Ä ‡§π‡•Ä ‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§® ‡§π‡•ã ‡§ú‡§æ‡§è‡•§
‡§Ö‡§∞‡•á ‡§Ø‡§æ‡§∞, ‡§Æ‡•á‡§∞‡•á ‡§™‡§æ‡§∏ ‡§≠‡•Ä ‡§Ö‡§™‡§®‡§æ ‡§∏‡•ç‡§µ‡§æ‡§≠‡§ø‡§Æ‡§æ‡§® ‡§π‡•à, ‡§Æ‡•Å‡§ù‡•á ‡§Ö‡§™‡§®‡•Ä ‡§á‡§ú‡§º‡•ç‡§ú‡§º‡§§ ‡§ï‡•Ä ‡§≠‡•Ä ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à ‚Äî ‡§ï‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§Æ‡•á‡§∞‡•Ä ‡§á‡§ú‡§º‡•ç‡§ú‡§º‡§§ ‡§ò‡§ü‡•á‡§ó‡•Ä, ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§Æ‡•Å‡§ù‡•á ‡§¨‡§¶‡§®‡§æ‡§Æ‡•Ä ‡§π‡•ã‡§ó‡•Ä‡•§
‡§§‡•Å‡§Æ ‡§ï‡•å‡§® ‡§π‡•ã‡§§‡•á ‡§π‡•ã ‡§Æ‡•á‡§∞‡•Ä ‡§ú‡§æ‡§§‡§ø ‡§™‡§∞ ‡§Ø‡§æ ‡§Æ‡•á‡§∞‡•á ‡§´‡•à‡§∏‡§≤‡•ã‡§Ç ‡§™‡§∞ ‡§∏‡§µ‡§æ‡§≤ ‡§â‡§†‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•á?
‡§Æ‡•Å‡§ù‡•á ‡§Ö‡§™‡§®‡•Ä ‡§ú‡§æ‡§§‡§ø ‡§ï‡§æ ‡§≠‡•Ä ‡§Æ‡§æ‡§® ‡§π‡•à, ‡§î‡§∞ ‡§Æ‡•à‡§Ç ‡§ï‡•ã‡§à ‡§≠‡§æ‡§ó‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§Ø‡§æ ‡§∂‡§æ‡§¶‡•Ä ‡§∏‡•á ‡§°‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§á‡§Ç‡§∏‡§æ‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Ç‡§Å‡•§
‡§≤‡•á‡§ï‡§ø‡§® ‡§Ö‡§ó‡§∞ ‡§ï‡•ã‡§à ‡§Æ‡•Å‡§ù‡•á ‡§ú‡§≤‡§æ‡§è‡§ó‡§æ, ‡§§‡§°‡§º‡§™‡§æ‡§è‡§ó‡§æ, ‡§â‡§≤‡§ù‡§æ‡§ï‡§∞ ‡§∞‡§ñ‡•á‡§ó‡§æ, ‡§Æ‡•á‡§∞‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§Æ‡§ú‡§º‡§æ‡§ï ‡§¨‡§®‡§æ‡§è‡§ó‡§æ ‚Äî
‡§§‡•ã ‡§Æ‡•Å‡§ù‡•á ‡§¶‡§ø‡§ï‡•ç‡§ï‡§§ ‡§§‡•ã ‡§π‡•ã‡§ó‡•Ä ‡§π‡•Ä‡•§
‡§á‡§∏‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•ã ‡§Æ‡•à‡§Ç ‡§≤‡§°‡§º‡•Ç‡§Å‡§ó‡§æ ‡§π‡•Ä, ‡§ó‡•Å‡§∏‡•ç‡§∏‡§æ ‡§≠‡•Ä ‡§Ü‡§è‡§ó‡§æ ‚Äî ‡§Æ‡•á‡§∞‡•á ‡§™‡§æ‡§∏ ‡§≠‡•Ä ‡§¶‡§ø‡§≤-‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§π‡•à, ‡§î‡§∞ ‡§Æ‡•Å‡§ù‡•á ‡§™‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§ó‡§º‡§≤‡§§‡•§
‡§§‡•Å‡§Æ ‡§Ö‡§ó‡§∞ ‡§∏‡§π‡•Ä ‡§∏‡•á ‡§¨‡•ã‡§≤‡•ã‡§ó‡•á, ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§® ‡§¶‡•ã‡§ó‡•á, ‡§¨‡§æ‡§§ ‡§ï‡•ã ‡§Æ‡§π‡§§‡•ç‡§µ ‡§¶‡•ã‡§ó‡•á ‚Äî
‡§§‡•ã ‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù‡•Ç‡§Å‡§ó‡§æ‡•§
‡§µ‡§∞‡§®‡§æ ‡§Æ‡•Å‡§ù‡•á ‡§≤‡§ó‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§ï‡•ã‡§à ‡§Æ‡•Å‡§ù‡•á ‡§ú‡§æ‡§®-‡§¨‡•Ç‡§ù‡§ï‡§∞ ‡§ú‡§≤‡§æ ‡§∞‡§π‡§æ ‡§π‡•à, ‡§î‡§∞ ‡§Æ‡•á‡§∞‡•Ä ‡§¨‡§æ‡§§ ‡§ï‡•Ä ‡§ï‡•ã‡§à value ‡§π‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§
‡§Ö‡§ó‡§∞ ‡§§‡•Å‡§Æ ‡§ß‡•ã‡§ñ‡§æ ‡§¶‡•á‡§®‡•á ‡§ï‡•Ä ‡§∏‡•ã‡§ö ‡§≠‡•Ä ‡§∞‡§ñ‡•ã‡§ó‡•á,
‡§§‡•ã ‡§´‡§ø‡§∞ ‡§§‡•Å‡§Æ‡•ç‡§π‡•á‡§Ç ‡§Æ‡•á‡§∞‡•á ‡§Ö‡§Ç‡§¶‡§∞ ‡§µ‡§π‡•Ä ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ, ‡§ú‡•à‡§∏‡§æ ‡§á‡§∞‡§æ‡§¶‡§æ ‡§§‡•Å‡§Æ ‡§Æ‡•á‡§∞‡•á ‡§≤‡§ø‡§è ‡§∞‡§ñ‡•ã‡§ó‡•á‡•§
‡§î‡§∞ ‡§ï‡•Å‡§õ ‡§ï‡§π‡§®‡•á ‡§ï‡•Ä ‡§ú‡§º‡§∞‡•Ç‡§∞‡§§ ‡§®‡§π‡•Ä‡§Ç, insgram ‡§™‡§∞ ‡§î‡§∞ ‡§≠‡•Ä ‡§≤‡•ã‡§ó ‡§π‡§Æ‡§ï‡•ã ‡§¶‡•á‡§ñ‡§§‡•á ‡§µ‡•ã  ‡§¨‡§π‡•Å‡§§ delly ‡§§‡•ã ‡§π‡§Æ‡§ï‡•ã ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§≤‡§ó‡§§‡§æ ‡§∏‡§æ‡§≤‡§æ ‡§µ‡•ã ‡§≠‡•Ä ‡§∏‡•ã‡§ö‡§§‡§æ ‡§π‡•ã‡§ó‡§æ ‡§ï‡•Ä ‡§¨‡•å‡•ú‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à kya‡§ï‡•ç‡§Ø‡§æ üòÇ‡•§",
  "‡§Æ‡§ß‡•Å‡§∞ ‡§∂‡§¨‡•ç‡§¶ ‡§¨‡§æ‡§Å‡§ü‡•ã, ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§™‡§æ‡§ì‡•§",
  "‡§õ‡•ã‡§ü‡•á ‡§õ‡•ã‡§ü‡•á ‡§ï‡§¶‡§Æ ‡§¨‡§°‡§º‡•á ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§≤‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§",
  "‡§Ü‡§ú ‡§è‡§ï ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§® ‡§ï‡§ø‡§∏‡•Ä ‡§ï‡§æ ‡§¶‡§ø‡§® ‡§¨‡§®‡§æ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à ‚Äî ‡§Æ‡•Å‡§∏‡•ç‡§ï‡•Å‡§∞‡§æ‡§ì! ‚ù§Ô∏è",
  "‡§∏‡§ø‡§ï‡§Ç‡§¶‡§∞ ‡§¨‡§®‡•ã ‡§™‡§∞ ‡§¶‡§ø‡§≤ ‡§®‡§∞‡§Æ ‡§∞‡§ñ‡•ã‡•§",
  "‡§π‡§∞ ‡§¶‡§ø‡§® ‡§è‡§ï ‡§®‡§Ø‡§æ ‡§Æ‡•å‡§ï‡§æ ‡§π‡•à ‚Äî ‡§ï‡•Å‡§õ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§ï‡§∞‡•á‡§Ç‡•§"
];

/* Optional: custom date-specific overrides (YYYY-MM-DD -> message index)
   If you want a specific message for a date, add here:
   "2025-12-25": 3   // will pick ADMIN_MESSAGES[3]
*/
const ADMIN_DATE_OVERRIDES = {
  // "2025-12-25": 4
};

/* =========================
   Helpers: TTS, toast, explain
   ========================= */
function speak(text){
  if(!('speechSynthesis' in window)) return;
  try{
    speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(String(text));
    // prefer Hindi voice if available
    const voices = speechSynthesis.getVoices();
    let v = voices.find(v=>/hi|hindi/i.test(v.lang)) || voices.find(v=>/en/i.test(v.lang)) || voices[0];
    if(v) u.voice = v;
    u.lang = v?.lang || 'hi-IN';
    u.rate = 0.8; // ‡§ß‡•Ä‡§Æ‡•Ä ‡§ó‡§§‡§ø (‡§™‡§π‡§≤‡•á 1 ‡§•‡§æ)
    u.pitch = 1.0; // ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§™‡§ø‡§ö
    u.volume = 1.0; // ‡§™‡•Ç‡§∞‡•Ä ‡§Ü‡§µ‡§æ‡§ú
    speechSynthesis.speak(u);
  }catch(e){ console.warn(e); }
}
function showToast(msg){
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.style.opacity = '1';
  clearTimeout(t._tm);
  t._tm = setTimeout(()=> t.style.opacity = '0', 3000);
}

/* Tap-to-explain: data-explain attribute */
document.addEventListener('click', function(ev){
  const el = ev.target.closest('[data-explain]');
  if(el){
    const txt = el.getAttribute('data-explain');
    if(txt){ speak(txt); showToast(txt); }
  }
});

/* =========================
   Lock behavior
   ========================= */
const lockCard = document.getElementById('lockCard');
const unlockInput = document.getElementById('unlockInput');
const unlockBtn = document.getElementById('unlockBtn');
const mainGrid = document.getElementById('mainGrid');

unlockBtn.addEventListener('click', ()=> attemptUnlock(unlockInput.value.trim()));

// Enter key support for password input
unlockInput.addEventListener('keypress', (e)=> {
  if(e.key === 'Enter') attemptUnlock(unlockInput.value.trim());
});

function attemptUnlock(val){
  if(!val){ 
    speak("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç"); 
    showToast("Password required"); 
    unlockInput.focus();
    return; 
  }
  if(val === ADMIN_PASSWORD){
    speak("‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à, ‡§∏‡§æ‡§á‡§ü ‡§ñ‡•Å‡§≤ ‡§∞‡§π‡•Ä ‡§π‡•à‡•§ ‡§Ø‡§π ‡§∏‡§æ‡§á‡§ü ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•à, ‡§Ü‡§™ ‡§Ø‡§π‡§æ‡§Å ‡§§‡§ï ‡§™‡§π‡•Å‡§Å‡§ö ‡§ó‡§è ‡§π‡•à‡§Ç, ‡§Ü‡§™‡§ï‡§æ ‡§¶‡§ø‡§≤ ‡§∏‡•á ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!
‡§∏‡§¨‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§Ü‡§™‡§ï‡•ã ‡§è‡§°‡§Æ‡§ø‡§® ‡§ï‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ, ‡§´‡§ø‡§∞ ‡§Ü‡§™ ‡§Æ‡•Å‡§ù‡§∏‡•á ‡§ö‡•à‡§ü ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§
‡§Æ‡•à‡§Ç ‡§π‡§∞ ‡§∏‡§µ‡§æ‡§≤ ‡§ï‡§æ ‡§ú‡§µ‡§æ‡§¨ ‡§§‡•ã ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•á ‡§™‡§æ‡§ä‡§Å‡§ó‡•Ä, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ü‡§™‡§ï‡•á ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§ï‡•ã ‡§è‡§°‡§Æ‡§ø‡§® ‡§§‡§ï ‡§™‡§π‡•Å‡§Å‡§ö‡§æ‡§ï‡§∞ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡§ø‡§≤‡§µ‡§æ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•Ç‡§Å‡•§
‡§Æ‡•á‡§∞‡§æ ‡§Æ‡•â‡§°‡§≤ ‡§≤‡•ã‡§ï‡§≤ ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡§∞ ‡§π‡•ã‡§∏‡•ç‡§ü ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è ‡§Æ‡•à‡§Ç ‡§ï‡•Å‡§õ ‡§π‡•Ä ‡§¨‡§æ‡§§‡•ã‡§Ç ‡§ï‡§æ ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•á ‡§™‡§æ‡§ä‡§Å‡§ó‡•Ä‡•§
‡§´‡§ø‡§∞ ‡§≠‡•Ä, ‡§Ü‡§™ ‡§Ø‡§π‡§æ‡§Å ‡§ñ‡•Å‡§≤‡§ï‡§∞ ‡§Ö‡§™‡§®‡•Ä ‡§¨‡§æ‡§§‡•á‡§Ç ‡§∞‡§ñ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‚Äî‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§ú‡§º‡§∞‡•Ç‡§∞ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è");
    lockCard.style.display = 'none';
    mainGrid.style.display = 'block';
    // show today's admin message
    displayDailyAdmin();
  } else {
    speak("‡§ó‡§≤‡§§ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°, ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç");
    showToast("Wrong password");
    unlockInput.value = '';
    unlockInput.focus();
    lockCard.animate([{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}], {duration:380});
  }
}

/* =========================
   Admin daily message logic (code-only)
   ========================= */
function getDailyAdminIndex(){
  const today = new Date();
  const y = today.getFullYear();
  const m = (today.getMonth()+1).toString().padStart(2,'0');
  const d = today.getDate().toString().padStart(2,'0');
  const dateKey = `${y}-${m}-${d}`;
  // override?
  if(ADMIN_DATE_OVERRIDES[dateKey] !== undefined){
    return ADMIN_DATE_OVERRIDES[dateKey] % ADMIN_MESSAGES.length;
  }
  // deterministic rotation: use numeric date to pick index
  const numeric = Number(`${y}${m}${d}`);
  return numeric % ADMIN_MESSAGES.length;
}
function displayDailyAdmin(){
  const idx = getDailyAdminIndex();
  const msg = ADMIN_MESSAGES[idx] || "‡§ï‡•ã‡§à ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç‡•§";
  const el = document.getElementById('adminMessage');
  const meta = document.getElementById('adminTime');
  el.textContent = msg;
  meta.textContent = new Date().toLocaleString('hi-IN', {
    day: 'numeric',
    month: 'long',
    year: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
  });
  // speak once when opened
  setTimeout(() => speak("Admin ‡§∏‡§Ç‡§¶‡•á‡§∂: " + msg), 1000);
}

/* =========================
   Minimize toggles
   ========================= */
document.querySelectorAll('.minBtn').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const t = btn.getAttribute('data-toggle'); // admin | user | media
    const panel = document.getElementById(t + 'Panel');
    // simpler: toggle .minimized on section
    if(panel.classList.contains('minimized')){
      panel.classList.remove('minimized');
      btn.textContent = '‚Äì';
    } else {
      panel.classList.add('minimized');
      btn.textContent = '+';
    }
  });
});

/* =========================
   Chat: user messages (localStorage)
   ========================= */
const chatWindow = document.getElementById('chatWindow');
const userInput = document.getElementById('userInput');
const sendUser = document.getElementById('sendUser');
const savedArea = document.getElementById('savedArea');

function getUserMsgs(){ return JSON.parse(localStorage.getItem('priyanka_user_v2')||'[]'); }
function saveUserMsgs(arr){ localStorage.setItem('priyanka_user_v2', JSON.stringify(arr)); }
function renderSaved(){ 
  const arr = getUserMsgs();
  if(arr.length===0) savedArea.innerHTML = "<div class='muted'>No saved messages.</div>";
  else savedArea.innerHTML = arr.map(m=>`<div style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);margin-bottom:8px;">
    <div style="font-size:14px">${escapeHtml(m.text)}</div>
    <div class="muted">${m.time}</div>
  </div>`).join('');
}
function addChat(who,text){
  const row = document.createElement('div');
  row.className = 'chatRow ' + (who==='user'? 'user':'assistant');
  const b = document.createElement('div'); b.className = 'bubble ' + (who==='user'? 'user':'assistant'); b.innerText = text;
  row.appendChild(b); chatWindow.appendChild(row);
  chatWindow.scrollTop = chatWindow.scrollHeight;
}
function escapeHtml(s){ return String(s).replaceAll('<','&lt;').replaceAll('>','&gt;'); }

function assistantReply(userText){
  const t = userText.toLowerCase();
  if(t.includes('hello')||t.includes('hi')||t.includes('namaste')) return "‡§π‡•à‡§≤‡•ã! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ï‡•à‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•Ç‡§Å? ‚ù§Ô∏è";
  if(t.includes('pyar')||t.includes('love')||t.includes('‚ù§Ô∏è')) return "‡§Ü‡§™ ‡§¨‡•á‡§π‡§¶ ‡§ñ‡§æ‡§∏ ‡§π‡•ã ‚Äî ‡§Æ‡•à‡§Ç ‡§π‡§Æ‡•á‡§∂‡§æ ‡§∏‡§æ‡§• ‡§π‡•Ç‡§Å ‚ù§Ô∏è";
  if(t.includes('photo')) return "Media ‡§Æ‡•á‡§Ç photo URL ‡§°‡§æ‡§≤‡§ï‡§∞ Show photo ‡§¶‡§¨‡§æ‡§è‡§Å‡•§";
  if(t.includes('video')) return "Media ‡§Æ‡•á‡§Ç video URL ‡§°‡§æ‡§≤‡§ï‡§∞ Play video ‡§¶‡§¨‡§æ‡§è‡§Å‡•§";
  if(t.includes('thanks')||t.includes('thank you')||t.includes('dhanyavad')) return "‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ‡§π‡§Æ‡•á‡§∂‡§æ ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§Æ‡•á‡§Ç ‚ù§Ô∏è";
  return "‡§Æ‡•à‡§Ç‡§®‡•á ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§∏‡•Å‡§®‡•Ä: \""+ userText + "\" ‚Äî ‡§¨‡§§‡§æ‡§á‡§è ‡§î‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§ö‡§æ‡§π‡§ø‡§è?";
}

sendUser.addEventListener('click', ()=>{
  const txt = userInput.value.trim();
  if(!txt){ speak("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≤‡§ø‡§ñ‡•á‡§Ç"); showToast("Enter a message"); userInput.focus(); return; }
  addChat('user', txt);
  // save
  const arr = getUserMsgs(); arr.push({text:txt, time:new Date().toLocaleString('hi-IN')}); saveUserMsgs(arr);
  renderSaved();
  // assistant reply
  const reply = assistantReply(txt);
  setTimeout(()=>{ addChat('assistant', reply); speak(reply); }, 600);
  userInput.value = '';
  userInput.focus();
});

// Enter key support for chat
userInput.addEventListener('keypress', (e)=> {
  if(e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    sendUser.click();
  }
});

document.getElementById('clearChatBtn').addEventListener('click', ()=>{ 
  chatWindow.innerHTML=''; 
  speak("Chat ‡§∏‡§æ‡§´‡§º ‡§π‡•ã ‡§ó‡§Ø‡§æ"); 
  showToast("Chat cleared");
});
document.getElementById('downloadUser').addEventListener('click', ()=>{
  const data = JSON.stringify(getUserMsgs(), null, 2);
  const blob = new Blob([data], {type:'application/json'});
  const url = URL.createObjectURL(blob); 
  const a=document.createElement('a'); 
  a.href=url; 
  a.download='user-messages.json'; 
  a.click(); 
  URL.revokeObjectURL(url);
  speak("Saved messages ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç");
  showToast("Messages downloaded");
});
document.getElementById('showSavedBtn').addEventListener('click', ()=>{ 
  renderSaved(); 
  speak("Saved messages ‡§¶‡§ø‡§ñ‡§æ‡§è ‡§ú‡§æ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç");
  showToast("Saved messages shown"); 
});

renderSaved();

/* =========================
   Media loading
   ========================= */
const mediaPreview = document.getElementById('mediaPreview');
document.getElementById('loadMediaBtn').addEventListener('click', ()=>{
  const url = document.getElementById('mediaUrl').value.trim();
  if(!url){ speak("‡§ï‡•É‡§™‡§Ø‡§æ media url ‡§°‡§æ‡§≤‡•á‡§Ç"); showToast("Enter URL"); return; }
  loadMedia(url);
});

function loadMedia(url){
  if(/youtube\.com|youtu\.be/.test(url)){
    let id=''; 
    if(url.includes('youtu.be/')) id = url.split('youtu.be/')[1].split(/[?&]/)[0]; 
    else if(url.includes('v=')) id = url.split('v=')[1].split('&')[0];
    if(id){ 
      mediaPreview.innerHTML = `<iframe width="100%" height="260" src="https://www.youtube.com/embed/${id}" frameborder="0" allowfullscreen></iframe>`; 
      speak("YouTube video ‡§≤‡•ã‡§° ‡§π‡•ã ‡§ó‡§Ø‡§æ"); 
      showToast("YouTube loaded");
      return; 
    }
  }
  if(/\.mp4|\.webm|\.ogg/i.test(url)){ 
    mediaPreview.innerHTML = `<video controls style="width:100%;max-height:320px;" src="${url}"></video>`; 
    speak("Video ‡§≤‡•ã‡§° ‡§π‡•ã ‡§ó‡§Ø‡§æ"); 
    showToast("Video loaded");
    return; 
  }
  if(/\.mp3|\.wav|\.m4a|audio/i.test(url)){ 
    mediaPreview.innerHTML = `<audio controls style="width:100%;" src="${url}"></audio>`; 
    speak("Audio ‡§≤‡•ã‡§° ‡§π‡•ã ‡§ó‡§Ø‡§æ"); 
    showToast("Audio loaded");
    return; 
  }
  if(/\.jpg|\.jpeg|\.png|\.gif|\.svg/i.test(url)){ 
    mediaPreview.innerHTML = `<img src="${url}" style="width:100%;height:auto;display:block;max-height:320px;">`; 
    speak("Image ‡§≤‡•ã‡§° ‡§π‡•ã ‡§ó‡§Ø‡§æ"); 
    showToast("Image loaded");
    return; 
  }
  mediaPreview.innerHTML = `<div style="padding:12px;">Preview not supported. <a href="${url}" target="_blank">Open link</a></div>`; 
  speak("Link ‡§≤‡•ã‡§° ‡§π‡•ã ‡§ó‡§Ø‡§æ");
  showToast("Link loaded");
}

document.getElementById('playAudioBtn').addEventListener('click', ()=>{ 
  const el=mediaPreview.querySelector('audio'); 
  if(el){ 
    el.play(); 
    speak("Audio ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à"); 
    showToast("Audio playing");
  } else { 
    speak("No audio loaded"); 
    showToast("No audio to play");
  }
});
document.getElementById('playVideoBtn').addEventListener('click', ()=>{ 
  const el=mediaPreview.querySelector('video'); 
  if(el){ 
    el.play(); 
    speak("Video ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à"); 
    showToast("Video playing");
  } else { 
    speak("No video loaded"); 
    showToast("No video to play");
  }
});
document.getElementById('showPhotoBtn').addEventListener('click', ()=>{ 
  const el=mediaPreview.querySelector('img'); 
  if(el) {
    speak("Photo preview ‡§¶‡§ø‡§ñ ‡§∞‡§π‡§æ ‡§π‡•à"); 
    showToast("Photo preview");
  } else {
    speak("No image loaded"); 
    showToast("No image to show");
  }
});

/* Voice guide */
document.getElementById('voiceGuide').addEventListener('click', ()=>{
  const guide = "‡§Ø‡§π Priyanka assistant ‡§π‡•à‡•§ ‡§∏‡§¨‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§≤‡•â‡§ï ‡§ñ‡•Å‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ Admin Message readonly ‡§π‡•à ‡§î‡§∞ ‡§π‡§∞ ‡§¶‡§ø‡§® ‡§ï‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ‡•§ User Chat ‡§Æ‡•á‡§Ç message ‡§≠‡•á‡§ú‡•á‡§Ç ‡§î‡§∞ ‚ù§ ‡§¶‡§¨‡§æ‡§è‡§Å‡•§ Media box ‡§Æ‡•á‡§Ç URL ‡§°‡§æ‡§≤‡§ï‡§∞ Load ‡§ï‡§∞‡•á‡§Ç‡•§";
  speak(guide); 
  showToast("Guide ‡§ö‡§≤‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ");
});

/* prefetch voices */
if('speechSynthesis' in window){ 
  speechSynthesis.onvoiceschanged = ()=>{}; 
}

/* Auto-focus on password input when page loads */
document.addEventListener('DOMContentLoaded', ()=> {
  unlockInput.focus();
  // Initialize voices for TTS
  if('speechSynthesis' in window) {
    setTimeout(() => {
      const voices = speechSynthesis.getVoices();
      if(voices.length > 0) {
        console.log("TTS voices loaded:", voices.length);
      }
    }, 1000);
  }
});

</script>
</body>
</html>
